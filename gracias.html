<!DOCTYPE html>
<html lang="es" data-theme="light">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>¡Gracias por tu Colaboración! - Sistema de Encuestas</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
        <link href="assets/css/main.css" rel="stylesheet">
        <script src="assets/js/theme-toggle.js"></script>
        <style>
        /* Animación para el confeti */
        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-80px) rotate(360deg); opacity: 0; }
        }
        /* Animación de entrada para los elementos */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card {
            animation: fadeInUp 0.5s ease-out forwards;
            opacity: 0;
        }
        </style>
    </head>
    <body class="bg-light">
        <div class="theme-toggle-container"></div>
        <header class="bg-primary text-white py-4 mb-5">
            <div class="container text-center">
                <h1 class="h3 mb-2">
                    <i class="bi bi-clipboard-check"></i>
                    Sistema de Encuestas Académicas
                </h1>
                <p class="mb-0 text-white-50">Tu opinión nos hace mejores</p>
            </div>
        </header>
        <main class="container">
            <div class="row justify-content-center">
                <div class="col-md-10 col-lg-8">
                    <div class="card border-0 shadow-lg" style="animation-delay: 0.1s;">
                        <div class="card-body text-center py-5" id="success-card-body">
                            <div class="mb-4">
                                <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>
                            </div>
                            <h2 class="text-success mb-3">¡Encuesta Enviada Exitosamente!</h2>
                            <p class="lead mb-4">Gracias por tomarte el tiempo de evaluar nuestros cursos y profesores.</p>
                            <div class="alert alert-info" id="reference-container" style="display: none;">
                                <i class="bi bi-info-circle me-2"></i>
                                Tu encuesta ha sido registrada de forma anónima. Si necesitas contactar con soporte, tu ID de registro es:
                                <strong id="survey-id"></strong>
                                .
                            </div>
                            <div class="quote-block">
                                <figure>
                                    <blockquote class="blockquote">
                                        <p id="quote-text"></p>
                                    </blockquote>
                                    <figcaption class="blockquote-footer" id="quote-author"></figcaption>
                                </figure>
                            
                            </div>
                        </div>
                    </div>
                    <div class="card border-0 shadow-sm mt-4" style="animation-delay: 0.3s;">
                        <div class="card-header">
                            <h6 class="mb-0">
                                <i class="bi bi-diagram-3"></i>
                                ¿Cuáles son los siguientes pasos?
                            </h6>
                        </div>
                        <div class="card-body">
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <span class="badge bg-primary rounded-pill me-3" style="font-size: 1rem; padding: 0.5em 0.8em;">1</span>
                                        <div>
                                            <h6 class="mb-1">Procesamiento</h6>
                                            <small class="text-muted">Tus respuestas se procesan de forma anónima y se agregan a las estadísticas generales.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <span class="badge bg-primary rounded-pill me-3" style="font-size: 1rem; padding: 0.5em 0.8em;">2</span>
                                        <div>
                                            <h6 class="mb-1">Análisis</h6>
                                            <small class="text-muted">El equipo académico analiza los datos para identificar puntos fuertes y áreas de mejora.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <span class="badge bg-primary rounded-pill me-3" style="font-size: 1rem; padding: 0.5em 0.8em;">3</span>
                                        <div>
                                            <h6 class="mb-1">Retroalimentación</h6>
                                            <small class="text-muted">Los profesores y coordinadores reciben un resumen constructivo de los resultados.</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <span class="badge bg-primary rounded-pill me-3" style="font-size: 1rem; padding: 0.5em 0.8em;">4</span>
                                        <div>
                                            <h6 class="mb-1">Acción</h6>
                                            <small class="text-muted">Se implementan mejoras en los cursos y en la metodología de enseñanza.</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="bg-dark text-white text-center py-3 mt-5">
            <div class="container">
                <p class="mb-0">&copy; 2025 Sistema de Encuestas Académicas.</p>
            </div>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mejora 1: Mostrar el ID de la encuesta
            const urlParams = new URLSearchParams(window.location.search);
            const encuestaId = urlParams.get('id');
            if (encuestaId) {
                document.getElementById('survey-id').textContent = `#${encuestaId}`;
                document.getElementById('reference-container').style.display = 'block';
            }

            // Mejora 2: Animación de confeti
            const successCard = document.getElementById('success-card-body');
            if (successCard) {
                lanzarConfeti(successCard);
            }
            
            // --- Mejora 3: Mostrar una Cita Inspiradora Aleatoria ---
                const quotes = [
                    { text: "La retroalimentación es el desayuno de los campeones.", author: "Ken Blanchard" },
                    { text: "La mejora continua es mejor que la perfección retrasada.", author: "Mark Twain" },
                    { text: "Una inversión en conocimiento paga el mejor interés.", author: "Benjamin Franklin" },
                    { text: "Dime y lo olvido, enséñame y lo recuerdo, involúcrame y lo aprendo.", author: "Benjamin Franklin" },
                    { text: "El aprendizaje nunca agota la mente.", author: "Leonardo da Vinci" },
                    { text: "La educación es el arma más poderosa que puedes usar para cambiar el mundo.", author: "Nelson Mandela" },
                    { text: "El éxito es la suma de pequeños esfuerzos repetidos día tras día.", author: "Robert Collier" },
                    { text: "El conocimiento es poder.", author: "Francis Bacon" },
                    { text: "La única forma de hacer un gran trabajo es amar lo que haces.", author: "Steve Jobs" },
                    { text: "El aprendizaje es un tesoro que seguirá a su dueño a todas partes.", author: "Proverbio chino" },
                    { text: "La educación es el pasaporte al futuro, porque el mañana pertenece a aquellos que se preparan para él hoy.", author: "Malcolm X" },
                    { text: "El único modo de hacer un gran trabajo es amar lo que haces.", author: "Steve Jobs" }
                ];

                // Seleccionar una cita al azar del array
                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];

                // Poner la cita y el autor en el HTML
                const quoteTextElement = document.getElementById('quote-text');
                const quoteAuthorElement = document.getElementById('quote-author');

                if (quoteTextElement && quoteAuthorElement) {
                    quoteTextElement.textContent = `"${randomQuote.text}"`;
                    quoteAuthorElement.textContent = ` ${randomQuote.author}`;
                }
        });

        function lanzarConfeti(elemento) {
            const container = elemento;
            container.style.position = 'relative'; // Necesario para posicionar el confeti
            container.style.overflow = 'hidden';   // Evita que el confeti se salga de la tarjeta

            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const confeti = document.createElement('div');
                    const size = Math.random() * 8 + 5;
                    const colors = ['#28a745', '#0dcaf0', '#ffc107', '#0d6efd'];
                    
                    confeti.style.cssText = `
                        position: absolute;
                        width: ${size}px; height: ${size * 1.5}px;
                        background: ${colors[Math.floor(Math.random() * colors.length)]};
                        border-radius: 50%;
                        pointer-events: none; opacity: 1;
                        left: ${Math.random() * 100}%;
                        top: ${Math.random() * 50 + 50}%;
                        animation: floatUp ${Math.random() * 2 + 2}s ease-out forwards;
                    `;
                    container.appendChild(confeti);
                    setTimeout(() => confeti.remove(), 4000);
                }, i * 100);
            }
        }
        </script>
    </body>
</html>
