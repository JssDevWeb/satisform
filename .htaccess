# ============================================
# SISTEMA DE ENCUESTAS ACADÉMICAS - .htaccess
# ============================================
# Configuración básica y compatible para Apache 2.4+
# ============================================

# Habilitar el motor de reescritura
RewriteEngine On

# ============================================
# CONFIGURACIÓN DE SEGURIDAD BÁSICA
# ============================================

# Headers de seguridad (si mod_headers está disponible)
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# Proteger archivos sensibles (Apache 2.4+ syntax)
<FilesMatch "\.(htaccess|htpasswd|ini|log|sh|sql|conf|md)$">
    Require all denied
</FilesMatch>

# Proteger archivos de backup
<FilesMatch "\.(bak|backup|old|tmp|swp)$">
    Require all denied
</FilesMatch>

# ============================================
# CONFIGURACIÓN DE TIPOS MIME
# ============================================

<IfModule mod_mime.c>
    AddType application/javascript .js
    AddType text/css .css
    AddType application/json .json
    AddType application/xml .xml
</IfModule>

# ============================================
# PÁGINAS DE ERROR PERSONALIZADAS
# ============================================

ErrorDocument 404 /formulario_final/error/404.html
ErrorDocument 403 /formulario_final/error/403.html
ErrorDocument 500 /formulario_final/error/500.html

# ============================================
# REDIRECCIONES
# ============================================

# Redireccionar a index.php por defecto
DirectoryIndex index.php index.php

# ============================================
# CONFIGURACIÓN DE PHP BÁSICA
# ============================================

<IfModule mod_php.c>
    php_flag display_errors on
    php_flag log_errors on
    php_value max_execution_time 30
    php_value memory_limit 128M
    php_value post_max_size 10M
    php_value upload_max_filesize 5M
</IfModule>
